{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Energy Grid Trading Game | Analytics</title>
  <!-- Import Roboto font -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <!-- Import Chart.js for interactive charts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
  <!-- Import Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Import custom CSS for styling -->  
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="{% static 'css/report.css' %}">

</head>
<body>
  <header>
    <div class="header-left">
      <div class="header-icon">âš¡</div>
      <h1>Analytics Report</h1>
    </div>
    <nav class="navbar">
      <ul>
        <li><a href="#"><i class="fa fa-home"></i> Home</a></li>
        <li><a href="#"><i class="fa fa-dashboard"></i> Dashboard</a></li>
        <li><a href="#"><i class="fa fa-chart-bar"></i> Analysis</a></li>
        <li><a href="#"><i class="fa fa-file-alt"></i> Report</a></li>
      </ul>
    </nav>
  </header>
   <div class="content-container">
    <div class="panel">
      <div class="panel-header">
        <div class="panel-title"><i class="fa fa-home"></i> Grid Participants</div>
        <div class="search-container">
          <i class="fa fa-search search-icon"></i>
          <input type="text" id="searchInput" class="search-input" placeholder="Search participants...">
        </div>
      </div>
      
      <div class="filter-container">
        <span class="filter-label">Filter by:</span>
        <select id="roleFilter" class="filter-select">
          <option value="all">All Roles</option>
          <option value="Producer">Producer</option>
          <option value="Consumer">Consumer</option>
          <option value="Prosumer">Prosumer</option>
        </select>
        <select id="statusFilter" class="filter-select">
          <option value="all">All Status</option>
          <option value="Allowed">Allowed</option>
          <option value="Not Allowed">Not Allowed</option>
        </select>
      </div>
      
      <div class="table-responsive">
        <table>
          <thead>
            <tr>
              <th>Household ID</th>
              <th>Surplus Energy (kWh)</th>
              <th>Trading Status</th>
              <th>Price ($/kWh)</th>
              <th>Role</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="energyTableBody">
            <!-- Energy data rows will be dynamically inserted here -->
            <tr>
              <td colspan="6" class="text-center">
                <div class="loader"></div>
                <p>Loading data...</p>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="pagination">
        <button id="prevPage" disabled><i class="fa fa-chevron-left"></i></button>
        <button class="active">1</button>
        <button>2</button>
        <button>3</button>
        <button id="nextPage"><i class="fa fa-chevron-right"></i></button>
      </div>
    </div>
    
    <div class="panel">
      <div class="panel-header">
        <div class="panel-title"><i class="fa fa-chart-bar"></i> Trading Statistics</div>
        <div class="info-text">
          <i class="fa fa-info-circle"></i> Real-time visualization
        </div>
      </div>
      <div id="trading-charts">
        <div class="chart-container">
          <canvas id="energyBalanceChart"></canvas>
        </div>
        <div class="chart-container">
          <canvas id="tradingStatusChart"></canvas>
        </div>
      </div>
    </div>
  </div>
  
  <div class="bottom-navigation">
    <button id="analyzeBtn"><i class="fa fa-play"></i> Run Analysis</button>
    <button id="exportBtn"><i class="fa fa-download"></i> Export Report</button>
    <button id="optimizeBtn"><i class="fa fa-cog"></i> Optimize Trading</button>
  </div>
  
  <!-- Modal for editing participant -->
  <div id="editModal" class="modal">
    <div class="modal-content">
      <span class="close-btn">&times;</span>
      <h2>Edit Participant</h2>
      <form id="editForm">
        <input type="hidden" id="editId">
        <div class="form-group">
          <label for="editHouseholdId">Household ID</label>
          <input type="text" id="editHouseholdId" class="form-control" disabled>
        </div>
        <div class="form-group">
          <label for="editSurplus">Surplus Energy (kWh)</label>
          <input type="number" step="0.01" id="editSurplus" class="form-control">
        </div>
        <div class="form-group">
          <label for="editStatus">Trading Status</label>
          <select id="editStatus" class="form-control">
            <option value="Allowed">Allowed</option>
            <option value="Not Allowed">Not Allowed</option>
          </select>
        </div>
        <div class="form-group">
          <label for="editPrice">Price ($/kWh)</label>
          <input type="number" step="0.01" id="editPrice" class="form-control">
        </div>
        <div class="form-group">
          <label for="editRole">Role</label>
          <select id="editRole" class="form-control">
            <option value="Producer">Producer</option>
            <option value="Consumer">Consumer</option>
            <option value="Prosumer">Prosumer</option>
          </select>
        </div>
        <div class="form-actions">
          <button type="button" class="btn btn-secondary" id="cancelEdit">Cancel</button>
          <button type="submit" class="btn btn-primary">Save Changes</button>
        </div>
      </form>
    </div>
  </div>
  
  <!-- Modal for adding new participant -->
  <div id="addModal" class="modal">
    <div class="modal-content">
      <span class="close-btn">&times;</span>
      <h2>Add New Participant</h2>
      <form id="addForm">
        <div class="form-group">
          <label for="addHouseholdId">Household ID</label>
          <input type="text" id="addHouseholdId" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="addSurplus">Surplus Energy (kWh)</label>
          <input type="number" step="0.01" id="addSurplus" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="addStatus">Trading Status</label>
          <select id="addStatus" class="form-control">
            <option value="Allowed">Allowed</option>
            <option value="Not Allowed">Not Allowed</option>
          </select>
        </div>
        <div class="form-group">
          <label for="addPrice">Price ($/kWh)</label>
          <input type="number" step="0.01" id="addPrice" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="addRole">Role</label>
          <select id="addRole" class="form-control">
            <option value="Producer">Producer</option>
            <option value="Consumer">Consumer</option>
            <option value="Prosumer">Prosumer</option>
          </select>
        </div>
        <div class="form-actions">
          <button type="button" class="btn btn-secondary" id="cancelAdd">Cancel</button>
          <button type="submit" class="btn btn-primary">Add Participant</button>
        </div>
      </form>
    </div>
  </div>
  
  <!-- Confirm delete modal -->
  <div id="deleteModal" class="modal">
    <div class="modal-content">
      <span class="close-btn">&times;</span>
      <h2>Confirm Deletion</h2>
      <p>Are you sure you want to remove this participant from the grid?</p>
      <input type="hidden" id="deleteId">
      <div class="form-actions">
        <button type="button" class="btn btn-secondary" id="cancelDelete">Cancel</button>
        <button type="button" class="btn btn-primary" id="confirmDelete">Delete</button>
      </div>
    </div>
  </div>
  
  <!-- Floating add button -->
  <div class="float-btn" id="addParticipantBtn">
    <i class="fa fa-plus"></i>
  </div>
  
  <script>
    // Sample data for demonstration
    const sampleData = [
      { id: 1, householdId: "H001", surplusEnergy: 150, tradingStatus: "Allowed", price: 0.15, role: "Producer" },
      { id: 2, householdId: "H002", surplusEnergy: -75, tradingStatus: "Allowed", price: 0.12, role: "Consumer" },
      { id: 3, householdId: "H003", surplusEnergy: 200, tradingStatus: "Not Allowed", price: 0.14, role: "Producer" },
      { id: 4, householdId: "H004", surplusEnergy: -120, tradingStatus: "Allowed", price: 0.13, role: "Consumer" },
      { id: 5, householdId: "H005", surplusEnergy: 50, tradingStatus: "Allowed", price: 0.16, role: "Prosumer" },
      { id: 6, householdId: "H006", surplusEnergy: -25, tradingStatus: "Not Allowed", price: 0.11, role: "Consumer" },
      { id: 7, householdId: "H007", surplusEnergy: 100, tradingStatus: "Allowed", price: 0.15, role: "Producer" },
      { id: 8, householdId: "H008", surplusEnergy: -100, tradingStatus: "Allowed", price: 0.14, role: "Consumer" },
      { id: 9, householdId: "H009", surplusEnergy: 75, tradingStatus: "Not Allowed", price: 0.17, role: "Prosumer" }
    ];
    
    // Global variables
    let currentData = [...sampleData];
    let currentPage = 1;
    const itemsPerPage = 5;
    
    // DOM Elements
    const energyTableBody = document.getElementById("energyTableBody");
    const searchInput = document.getElementById("searchInput");
    const roleFilter = document.getElementById("roleFilter");
    const statusFilter = document.getElementById("statusFilter");
    const prevPageBtn = document.getElementById("prevPage");
    const nextPageBtn = document.getElementById("nextPage");
    const analyzeBtn = document.getElementById("analyzeBtn");
    const exportBtn = document.getElementById("exportBtn");
    const optimizeBtn = document.getElementById("optimizeBtn");
    const addParticipantBtn = document.getElementById("addParticipantBtn");
    
    // Modal elements
    const editModal = document.getElementById("editModal");
    const addModal = document.getElementById("addModal");
    const deleteModal = document.getElementById("deleteModal");
    const editForm = document.getElementById("editForm");
    const addForm = document.getElementById("addForm");
    const closeButtons = document.getElementById("close-btn");
    // Modal elements (continued)
    const cancelEditBtn = document.getElementById("cancelEdit");
    const cancelAddBtn = document.getElementById("cancelAdd");
    const cancelDeleteBtn = document.getElementById("cancelDelete");
    const confirmDeleteBtn = document.getElementById("confirmDelete");
    
    // Initialize the application
    document.addEventListener("DOMContentLoaded", function() {
      // Initialize charts
      initializeCharts();
      
      // Render the initial table data
      updateTableData();
      
      // Update summary statistics
      updateSummaryStats();
      
      // Set up event listeners
      setupEventListeners();
    });
    
    // Function to initialize charts
    function initializeCharts() {
      // Energy Balance Chart
      const energyBalanceCtx = document.getElementById('energyBalanceChart').getContext('2d');
      const energyBalanceChart = new Chart(energyBalanceCtx, {
        type: 'bar',
        data: {
          labels: ['Surplus', 'Deficit', 'Net Balance'],
          datasets: [{
            label: 'Energy (kWh)',
            data: [575, -320, 255],
            backgroundColor: [
              'rgba(42, 157, 143, 0.7)',
              'rgba(230, 57, 70, 0.7)',
              'rgba(69, 123, 157, 0.7)'
            ],
            borderColor: [
              'rgba(42, 157, 143, 1)',
              'rgba(230, 57, 70, 1)',
              'rgba(69, 123, 157, 1)'
            ],
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: 'Energy (kWh)'
              }
            }
          },
          plugins: {
            legend: {
              display: false
            },
            title: {
              display: true,
              text: 'Energy Balance Summary'
            }
          }
        }
      });
      
      // Trading Status Chart
      const tradingStatusCtx = document.getElementById('tradingStatusChart').getContext('2d');
      const tradingStatusChart = new Chart(tradingStatusCtx, {
        type: 'pie',
        data: {
          labels: ['Allowed', 'Not Allowed'],
          datasets: [{
            data: [6, 3],
            backgroundColor: [
              'rgba(42, 157, 143, 0.7)',
              'rgba(230, 57, 70, 0.7)'
            ],
            borderColor: [
              'rgba(42, 157, 143, 1)',
              'rgba(230, 57, 70, 1)'
            ],
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'bottom'
            },
            title: {
              display: true,
              text: 'Trading Status Distribution'
            }
          }
        }
      });
    }
    
    // Function to update the table data
    function updateTableData() {
      // Filter data based on search and filters
      let filteredData = filterData();
      
      // Clear existing table data
      energyTableBody.innerHTML = '';
      
      // Calculate pagination
      const startIndex = (currentPage - 1) * itemsPerPage;
      const endIndex = startIndex + itemsPerPage;
      const paginatedData = filteredData.slice(startIndex, endIndex);
      
      // Check if no data
      if (paginatedData.length === 0) {
        const noDataRow = document.createElement('tr');
        noDataRow.innerHTML = `
          <td colspan="6" style="text-align: center;">No participants found</td>
        `;
        energyTableBody.appendChild(noDataRow);
        return;
      }
      
      // Create the table rows
      paginatedData.forEach(item => {
        const row = document.createElement('tr');
        
        // Determine the surplus energy class
        const surplusClass = item.surplusEnergy >= 0 ? 'positive' : 'negative';
        
        // Determine the trading status class
        const statusClass = item.tradingStatus === 'Allowed' ? 'status-allowed' : 'status-not-allowed';
        
        row.innerHTML = `
          <td>${item.householdId}</td>
          <td class="${surplusClass}">${item.surplusEnergy} kWh</td>
          <td class="${statusClass}">${item.tradingStatus}</td>
          <td>$${item.price.toFixed(2)}</td>
          <td>${item.role}</td>
          <td>
            <button class="action-btn edit" data-id="${item.id}" title="Edit"><i class="fa fa-edit"></i></button>
            <button class="action-btn delete" data-id="${item.id}" title="Delete"><i class="fa fa-trash"></i></button>
          </td>
        `;
        
        energyTableBody.appendChild(row);
      });
      
      // Update pagination buttons
      updatePaginationButtons(filteredData.length);
      
      // Add event listeners to action buttons
      addActionButtonListeners();
    }
    
    // Function to filter data based on search and filters
    function filterData() {
      const searchTerm = searchInput.value.toLowerCase();
      const roleValue = roleFilter.value;
      const statusValue = statusFilter.value;
      
      return currentData.filter(item => {
        // Filter by search term
        const matchesSearch = item.householdId.toLowerCase().includes(searchTerm) || 
                           item.role.toLowerCase().includes(searchTerm);
        
        // Filter by role
        const matchesRole = roleValue === 'all' || item.role === roleValue;
        
        // Filter by status
        const matchesStatus = statusValue === 'all' || item.tradingStatus === statusValue;
        
        return matchesSearch && matchesRole && matchesStatus;
      });
    }
    
    // Function to update pagination buttons
    function updatePaginationButtons(totalItems) {
      const totalPages = Math.ceil(totalItems / itemsPerPage);
      
      // Update previous/next buttons
      prevPageBtn.disabled = currentPage === 1;
      nextPageBtn.disabled = currentPage === totalPages || totalPages === 0;
      
      // Update page number buttons
      const paginationButtons = document.querySelectorAll('.pagination button:not(#prevPage):not(#nextPage)');
      
      // Remove active class from all buttons
      paginationButtons.forEach(button => {
        button.classList.remove('active');
      });
      
      // Set active class for current page
      if (paginationButtons.length >= currentPage) {
        paginationButtons[currentPage - 1].classList.add('active');
      }
    }
    
    // Function to add event listeners to action buttons
    function addActionButtonListeners() {
      // Add event listeners to edit buttons
      const editButtons = document.querySelectorAll('.action-btn.edit');
      editButtons.forEach(button => {
        button.addEventListener('click', function() {
          const id = parseInt(this.getAttribute('data-id'));
          openEditModal(id);
        });
      });
      
      // Add event listeners to delete buttons
      const deleteButtons = document.querySelectorAll('.action-btn.delete');
      deleteButtons.forEach(button => {
        button.addEventListener('click', function() {
          const id = parseInt(this.getAttribute('data-id'));
          openDeleteModal(id);
        });
      });
    }
    
    // Function to open edit modal
    function openEditModal(id) {
      const participant = currentData.find(item => item.id === id);
      
      if (participant) {
        document.getElementById('editId').value = participant.id;
        document.getElementById('editHouseholdId').value = participant.householdId;
        document.getElementById('editSurplus').value = participant.surplusEnergy;
        document.getElementById('editStatus').value = participant.tradingStatus;
        document.getElementById('editPrice').value = participant.price;
        document.getElementById('editRole').value = participant.role;
        
        editModal.style.display = 'block';
      }
    }
    
    // Function to open delete modal
    function openDeleteModal(id) {
      document.getElementById('deleteId').value = id;
      deleteModal.style.display = 'block';
    }
    
    // Function to open add modal
    function openAddModal() {
      // Reset the form
      addForm.reset();
      
      // Set default values
      document.getElementById('addStatus').value = 'Allowed';
      document.getElementById('addRole').value = 'Producer';
      
      addModal.style.display = 'block';
    }
    
    // Function to update summary statistics
    function updateSummaryStats() {
      // Calculate total surplus energy
      const totalSurplus = currentData
        .filter(item => item.surplusEnergy > 0)
        .reduce((sum, item) => sum + item.surplusEnergy, 0);
      
      // Calculate total deficit energy
      const totalDeficit = Math.abs(currentData
        .filter(item => item.surplusEnergy < 0)
        .reduce((sum, item) => sum + item.surplusEnergy, 0));
      
      // Count participants with trading allowed
      const tradingAllowed = currentData.filter(item => item.tradingStatus === 'Allowed').length;
      
      // Calculate average price
      const totalPrice = currentData.reduce((sum, item) => sum + item.price, 0);
      const averagePrice = totalPrice / currentData.length;
      
      // Update the summary statistics in the UI
      document.getElementById('totalSurplus').textContent = `${totalSurplus} kWh`;
      document.getElementById('totalDeficit').textContent = `${totalDeficit} kWh`;
      document.getElementById('tradingAllowedCount').textContent = `${tradingAllowed} out of ${currentData.length}`;
      document.getElementById('averagePrice').textContent = `$${averagePrice.toFixed(2)}/kWh`;
    }
    
    // Function to set up event listeners
    function setupEventListeners() {
      // Search input event
      searchInput.addEventListener('input', function() {
        currentPage = 1; // Reset to first page when searching
        updateTableData();
      });
      
      // Filter events
      roleFilter.addEventListener('change', function() {
        currentPage = 1;
        updateTableData();
      });
      
      statusFilter.addEventListener('change', function() {
        currentPage = 1;
        updateTableData();
      });
      
      // Pagination events
      prevPageBtn.addEventListener('click', function() {
        if (currentPage > 1) {
          currentPage--;
          updateTableData();
        }
      });
      
      nextPageBtn.addEventListener('click', function() {
        const filteredData = filterData();
        const totalPages = Math.ceil(filteredData.length / itemsPerPage);
        
        if (currentPage < totalPages) {
          currentPage++;
          updateTableData();
        }
      });
      
      // Page number buttons
      const pageButtons = document.querySelectorAll('.pagination button:not(#prevPage):not(#nextPage)');
      pageButtons.forEach((button, index) => {
        button.addEventListener('click', function() {
          currentPage = index + 1;
          updateTableData();
        });
      });
      
      // Add participant button
      addParticipantBtn.addEventListener('click', openAddModal);
      
      // Close modal buttons
      closeButtons.forEach(button => {
        button.addEventListener('click', function() {
          editModal.style.display = 'none';
          addModal.style.display = 'none';
          deleteModal.style.display = 'none';
        });
      });
      
      // Cancel buttons
      cancelEditBtn.addEventListener('click', function() {
        editModal.style.display = 'none';
      });
      
      cancelAddBtn.addEventListener('click', function() {
        addModal.style.display = 'none';
      });
      
      cancelDeleteBtn.addEventListener('click', function() {
        deleteModal.style.display = 'none';
      });
      
      // Form submission events
      editForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        const id = parseInt(document.getElementById('editId').value);
        const surplusEnergy = parseFloat(document.getElementById('editSurplus').value);
        const tradingStatus = document.getElementById('editStatus').value;
        const price = parseFloat(document.getElementById('editPrice').value);
        const role = document.getElementById('editRole').value;
        
        // Find the participant in the data
        const participantIndex = currentData.findIndex(item => item.id === id);
        
        if (participantIndex !== -1) {
          // Update the participant data
          currentData[participantIndex].surplusEnergy = surplusEnergy;
          currentData[participantIndex].tradingStatus = tradingStatus;
          currentData[participantIndex].price = price;
          currentData[participantIndex].role = role;
          
          // Close the modal
          editModal.style.display = 'none';
          
          // Update the table and summary statistics
          updateTableData();
          updateSummaryStats();
          
          // Show success message
          showAlert('Participant updated successfully!', 'success');
        }
      });
      
      addForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        const householdId = document.getElementById('addHouseholdId').value;
        const surplusEnergy = parseFloat(document.getElementById('addSurplus').value);
        const tradingStatus = document.getElementById('addStatus').value;
        const price = parseFloat(document.getElementById('addPrice').value);
        const role = document.getElementById('addRole').value;
        
        // Generate a new ID (simple implementation)
        const maxId = currentData.reduce((max, item) => Math.max(max, item.id), 0);
        const newId = maxId + 1;
        
        // Create a new participant
        const newParticipant = {
          id: newId,
          householdId,
          surplusEnergy,
          tradingStatus,
          price,
          role
        };
        
        // Add the new participant to the data
        currentData.push(newParticipant);
        
        // Close the modal
        addModal.style.display = 'none';
        
        // Update the table and summary statistics
        updateTableData();
        updateSummaryStats();
        
        // Show success message
        showAlert('New participant added successfully!', 'success');
      });
      
      confirmDeleteBtn.addEventListener('click', function() {
        const id = parseInt(document.getElementById('deleteId').value);
        
        // Find the participant in the data
        const participantIndex = currentData.findIndex(item => item.id === id);
        
        if (participantIndex !== -1) {
          // Remove the participant from the data
          currentData.splice(participantIndex, 1);
          
          // Close the modal
          deleteModal.style.display = 'none';
          
          // Update the table and summary statistics
          updateTableData();
          updateSummaryStats();
          
          // Show success message
          showAlert('Participant removed successfully!', 'success');
        }
      });
      
      // Action buttons
      analyzeBtn.addEventListener('click', function() {
        // Simulate analyzing data
        showAlert('Analysis started. This may take a few moments...', 'success');
        
        // Simulate a delay
        setTimeout(function() {
          showAlert('Analysis complete! Optimal trading patterns identified.', 'success');
        }, 2000);
      });
      
      exportBtn.addEventListener('click', function() {
        // Simulate exporting data
        showAlert('Generating report. Please wait...', 'success');
        
        // Simulate a delay
        setTimeout(function() {
          showAlert('Report exported successfully! Check your downloads folder.', 'success');
        }, 1500);
      });
      
      optimizeBtn.addEventListener('click', function() {
        // Simulate optimizing data
        showAlert('Optimizing trading settings. This may take a few moments...', 'success');
        
        // Simulate a delay
        setTimeout(function() {
          // Simulate optimization by updating some values
          currentData.forEach(item => {
            if (item.tradingStatus === 'Not Allowed') {
              item.tradingStatus = 'Allowed';
            }
            
            // Adjust prices slightly to optimize trading
            item.price = Math.max(0.10, Math.min(0.20, item.price + (Math.random() - 0.5) * 0.02));
          });
          
          // Update the table and summary statistics
          updateTableData();
          updateSummaryStats();
          
          showAlert('Trading parameters optimized successfully!', 'success');
        }, 2500);
      });
    }
    
    // Function to show an alert message
    function showAlert(message, type) {
      const alertContainer = document.getElementById('alert-container');
      
      // Create alert element
      const alertElement = document.createElement('div');
      alertElement.className = `alert alert-${type}`;
      alertElement.textContent = message;
      
      // Add to container
      alertContainer.appendChild(alertElement);
      
      // Auto-remove after delay
      setTimeout(function() {
        alertElement.remove();
      }, 3000);
    }
    
    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
      if (event.target == editModal) {
        editModal.style.display = "none";
      } else if (event.target == addModal) {
        addModal.style.display = "none";
      } else if (event.target == deleteModal) {
        deleteModal.style.display = "none";
      }
    }
  </script>
</body>
</html>