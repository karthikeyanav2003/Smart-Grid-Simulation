{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Energy Grid Trading - Signup</title>
  
  <!-- Link CSS -->
  <link rel="stylesheet" href="{% static 'css/signup.css' %}">
</head>
<body>
  <div id="signup-page">
    <!-- Side Panel -->
    <div class="side-panel">
      <div class="logo">
        <span class="logo-icon">âš¡</span>
        <span>Energy Grid Trading</span>
      </div>
      <h2>Join the Energy Revolution</h2>
      <p>Connect with our innovative platform to trade energy resources, reduce costs, and support sustainable power distribution.</p>
      <div class="benefits">
        <div class="benefit-item">
          <span class="benefit-icon">âœ“</span>
          <span>Trade renewable energy in real-time</span>
        </div>
        <div class="benefit-item">
          <span class="benefit-icon">âœ“</span>
          <span>Optimize your energy costs</span>
        </div>
        <div class="benefit-item">
          <span class="benefit-icon">âœ“</span>
          <span>Support sustainable energy markets</span>
        </div>
        <div class="benefit-item">
          <span class="benefit-icon">âœ“</span>
          <span>Advanced analytics and insights</span>
        </div>
      </div>
    </div>
    
    <!-- Form Container -->
    <div class="form-container">
      <!-- Progress Bar -->
      <div class="progress-bar">
        <div class="progress-bar-fill" id="progressBarFill"></div>
        <div class="step active" id="step1">1</div>
        <div class="step" id="step2">2</div>
      </div>

      <!-- Signup Form (2-Step) -->
      <form id="signupForm" action="{% url 'signup' %}" method="post">
        {% csrf_token %}
        <input type="hidden" id="csrf_token" name="csrfmiddlewaretoken" value="{{ csrf_token }}">

        <!-- Step 1: Personal Information -->
        <div class="form-step active" id="formStep1">
          <h2 class="form-title">Personal Information</h2>
          <div class="input-row">
            <div class="input-group">
              <label for="firstname">First Name</label>
              <input type="text" id="firstname" name="firstname" placeholder="Your first name" required>
              <p class="error-message" id="firstname-error" style="display: none;">Please enter your first name</p>
            </div>
            <div class="input-group">
              <label for="lastname">Last Name</label>
              <input type="text" id="lastname" name="lastname" placeholder="Your last name" required>
              <p class="error-message" id="lastname-error" style="display: none;">Please enter your last name</p>
            </div>
          </div>
          <div class="input-group">
            <label for="email">Email Address</label>
            <input type="email" id="email" name="email" placeholder="your.email@example.com" required>
            <span class="input-group-icon">âœ‰ï¸</span>
            <p class="error-message" id="email-error" style="display: none;">Please enter a valid email address</p>
          </div>
          <div class="input-group">
            <label for="dob">Date of Birth</label>
            <input type="date" id="dob" name="dob" required>
            <p class="error-message" id="dob-error" style="display: none;">Please enter a valid date of birth</p>
          </div>
          <div class="btn-container">
            <button type="button" class="btn btn-next" id="toStep2">Continue</button>
          </div>
        </div>

        <!-- Step 2: Account Security -->
        <div class="form-step" id="formStep2">
          <h2 class="form-title">Create Your Account</h2>
          <div class="input-group">
            <label for="username">Username</label>
            <input type="text" id="username" name="username" placeholder="Choose a unique username" required>
            <span class="input-group-icon">ğŸ‘¤</span>
            <p class="error-message" id="username-error" style="display: none;">Username must be at least 4 characters</p>
          </div>
          <div class="input-group">
            <label for="password">Password</label>
            <input type="password" id="password" name="password" placeholder="Create a strong password" required>
            <span class="input-group-icon">ğŸ”’</span>
            <div class="password-strength">
              <div class="password-strength-fill" id="passwordStrength"></div>
            </div>
            <p class="password-feedback" id="passwordFeedback"></p>
            <p class="error-message" id="password-error" style="display: none;">Password must be at least 8 characters</p>
          </div>
          <div class="input-group">
            <label for="confirm_password">Confirm Password</label>
            <input type="password" id="confirm_password" name="confirm_password" placeholder="Confirm your password" required>
            <span class="input-group-icon">ğŸ”’</span>
            <p class="error-message" id="confirm-password-error" style="display: none;">Passwords do not match</p>
          </div>
          <div class="btn-container">
            <button type="button" class="btn btn-back" id="backToStep1">Back</button>
            <button type="submit" class="btn btn-submit">Create Account</button>
          </div>
        </div>
      </form>

      <div class="form-footer">
        <p>Already have an account? <a href="{% url 'login' %}">Log in here</a></p>
      </div>
    </div>
  </div>

  <!-- Link JavaScript -->
  <script src="{% static 'js/signup.js' %}"></script>

</body>
</html>
